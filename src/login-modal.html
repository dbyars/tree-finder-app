<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">

<dom-module id="login-modal">

  <template>

    <style>

      paper-dialog {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .close {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        width: 100%;
        margin: 0;
        padding: 15px;
      }

      .buttons {
        display: flex;
        flex-direction: column;
        align-items: space-around;
        padding: 0;
        margin: 0;
        width: 100%;
      }

      paper-button {
        text-transform: none;
      }

      #login__button {
        background-color: #2BC016;
        color: #FEFDFC;
        font-size: 18px;
      }

      #login__forgot {
        font-size: 11px;
      }

    </style>

    <paper-dialog id="needLogin" entry-animation="slide-from-top-animation" exit-animation="scale-down-animation" auto-fit-on-attach>

      <paper-button class="close" onclick="needLogin.close()" on-click="clearInputs" noink>
        <iron-icon icon="icons:close"></iron-icon>
      </paper-button>

      <h3>Login to Tree Finder</h3>

      <form id="login" is="iron-form" method="get" action="https://httpbin.org/get">

        <div class="inputs">
          <paper-input id="input__name" name="username" label="Username" autofocus></paper-input>
          <paper-input id="input__password" name="password" label="Password" type="password"></paper-input>
        </div>

        <div class="buttons">
          <paper-button id="login__button" on-click="submitForm">Login</paper-button>
          <paper-button id="login__forgot" noink>Forgot your password?</paper-button>
        </div>

      </form>

    </paper-dialog>

  </template>

  <script>
    Polymer({
      is: 'login-modal',
      clearInputs: function() {
        this.$.input__name.value = ''
        this.$.input__password.value = ''
      },
      submitForm: function() {
        this.$.login.submit()
      }
    })
  </script>

</dom-module>
